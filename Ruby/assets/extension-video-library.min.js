function onImagesLoaded(a){a=a||document;var b=Array.prototype.slice.call(a.querySelectorAll("img")),c=b.filter(function(a){return!a.naturalWidth||!a.complete}).map(function(a){return new Promise((b,c)=>{a.addEventListener("load",function(){return b(a)}),a.addEventListener("error",function(){return c(a)})})});return Promise.all(c)}(function(){"use strict";function a(){var a=document.createElement("script");a.src="https://www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),window.onYouTubeIframeAPIReady=c,h=!0}function b(b){h||a(),i?b():j.push(b)}function c(){i=!0,j.forEach(function(a){a()})}function d(){var a=document.createElement("script");a.src="https://player.vimeo.com/api/player.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),b.onload=f,k=!0}function e(a){k||d(),l?a():m.push(a)}function f(){l=!0,m.forEach(function(a){a()})}var g={RENDER:"videoLibrary:render",PLAYER_READY:"videoLibrary:playerReady",PLAYERS_READY:"videoLibrary:ready"},h=!1,i=!1,j=[],k=!1,l=!1,m=[];window.VideoLibrary=Util.createExtension({defaults:{ids:"",layout:"grid",showTitle:!0,showDuration:!0,playInline:!1,useLoader:!0,template:null,templateData:{}},optionTypes:{ids:"string",layout:"string",showTitle:"boolean",showDuration:"boolean",playInline:"boolean",useLoader:"boolean",template:"(string|null)",templateData:"object"},initialize:function(a){-1===["grid","carousel","tabs"].indexOf(a.layout)&&(this.options.layout="grid"),"carousel"===this.options.layout&&"function"!=typeof Swiper&&(this.options.layout="grid"),!1!==this.options.playInline||window.jQuery&&window.jQuery.hasOwnProperty("fancybox")||(this.options.playInline=!0),this.numberPlayersReady=0,this.youTubePlayers=this.vimeoPlayers=[],this.ids=a.ids.split(",").map(function(a){return a.trim()}),this.youTubeIds=this.ids.filter(function(a){return 11===a.length}),this.vimeoIds=this.ids.filter(function(a){return /^[0-9]+$/.test(a)&&10>a.length}),this.el.classList.add("hidden"),this.options.useLoader&&this.renderLoader(),this.render(),this.youTubeIds.length&&b(this.createYouTubePlayers.bind(this)),this.vimeoIds.length&&e(this.createVimeoPlayers.bind(this))},formatDuration:function(a){a=parseInt(a,10);var b=Math.floor(a/3600),c=Math.floor(a/60)%60;return a%=60,[b,c,a].map(a=>10>a?"0"+a:a).filter((a,b)=>"00"!==a||0<b).join(":")},createYouTubePlayers:function(){this.youTubePlayers=this.youTubeIds.map(this.createYouTubePlayer.bind(this))},createYouTubePlayer:function(a){var b=this.onYouTubePlayerReady.bind(this);return new YT.Player(a,{videoId:a,events:{onReady:function(c){b(c.target,a)}}})},onYouTubePlayerReady:function(a,b){var c=a.getVideoData(),d=a.playerInfo,e=a.getIframe(),f={player:a,title:c.title,url:"https://www.youtube.com/watch?v="+b,duration:this.formatDuration(d.duration),thumbnail:"https://img.youtube.com/vi/"+b+"/1.jpg",relatedTarget:e},g=this;Array.prototype.forEach.call(document.querySelectorAll("[data-title=\""+b+"\"]"),function(a){a.innerText=f.title}),Array.prototype.forEach.call(document.querySelectorAll("[data-url=\""+b+"\"]"),function(a){"A"===a.tagName&&(a.href=f.url)}),Array.prototype.forEach.call(document.querySelectorAll("[data-duration=\""+b+"\"]"),function(a){a.innerText=f.duration}),Array.prototype.forEach.call(document.querySelectorAll("[data-thumbnail=\""+b+"\"]"),function(a){"IMG"===a.tagName&&(a.src=f.thumbnail)});var h=e.parentNode;e.classList.add("invisible"),h.style.backgroundImage="url(https://img.youtube.com/vi/"+b+"/0.jpg)",h.classList.add("bg-cover"),h.classList.add("bg-center"),h.classList.add("cursor-pointer"),this.options.playInline&&h.addEventListener("click",function(){g.stopAllPlayers(),g.startYouTubePlayer(a)});var i=g.onPlayerReady.bind(this);i(f)},startYouTubePlayer:function(a){var b=a.getIframe();a.playVideo(),b.classList.remove("invisible")},stopYouTubePlayer:function(a){var b=a.getIframe();a.stopVideo(),b.classList.add("invisible")},createVimeoPlayers:function(){this.vimeoPlayers=this.vimeoIds.map(this.createVimeoPlayer.bind(this))},createVimeoPlayer:function(a){var b=new Vimeo.Player(a,{id:a}),c=this.onVimeoPlayerReady.bind(this);return b.ready().then(function(){c(b,a)}),b},onVimeoPlayerReady:function(a,b){var c=this;fetch(`https://vimeo.com/api/oembed.json?url=https://vimeo.com/${b}?width=480&height=360`).then(function(a){return a.json()}).then(function(d){var e=a.element,f={player:a,title:d.title,url:"https://vimeo.com/"+b,duration:c.formatDuration(d.duration),thumbnail:d.thumbnail_url,relatedTarget:e},g=e.parentNode;e.className=g.className,g.parentNode.insertBefore(e,g),g.remove(),e.classList.add("invisible"),Array.prototype.forEach.call(document.querySelectorAll("[data-title=\""+b+"\"]"),function(a){a.innerText=f.title}),Array.prototype.forEach.call(document.querySelectorAll("[data-url=\""+b+"\"]"),function(a){"A"===a.tagName&&(a.href=f.url)}),Array.prototype.forEach.call(document.querySelectorAll("[data-duration=\""+b+"\"]"),function(a){a.innerText=f.duration}),Array.prototype.forEach.call(document.querySelectorAll("[data-thumbnail=\""+b+"\"]"),function(a){"IMG"===a.tagName&&(a.src=f.thumbnail)}),g=e.parentNode,g.style.backgroundImage="url("+f.thumbnail+")",g.classList.add("bg-cover"),g.classList.add("bg-center"),g.classList.add("cursor-pointer"),c.options.playInline&&g.addEventListener("click",function(){c.stopAllPlayers(),c.startVimeoPlayer(a)});var h=c.onPlayerReady.bind(c);h(f)})},startVimeoPlayer:function(a){a.play(),a.element.classList.remove("invisible")},stopVimeoPlayer:function(a){a.pause(),a.element.classList.add("invisible")},onPlayerReady(a){Util.triggerEvent(this.el,g.PLAYER_READY,a),this.numberPlayersReady++,this.numberPlayersReady===this.ids.length&&onImagesLoaded().then(this.onPlayersReady.bind(this))},onPlayersReady:function(){this.el.classList.remove("hidden"),"carousel"===this.options.layout&&this.initializeCarousel(),"tabs"===this.options.layout&&this.initializeTabs(),this.options.useLoader&&this.loader.remove(),Util.triggerEvent(this.el,g.PLAYERS_READY,{relatedTarget:this.el,players:this.players})},stopAllPlayers:function(){this.youTubePlayers.forEach(this.stopYouTubePlayer.bind(this)),this.vimeoPlayers.forEach(this.stopVimeoPlayer.bind(this))},initializeCarousel:function(){this.el.classList.add("swiper-container","swiper-container-"+this.instanceNumber,"relative","overflow-hidden"),this.swiper=new Swiper(".swiper-container-"+this.instanceNumber,{loop:!1,threshold:10,breakpoints:{768:{slidesPerView:this.el.getAttribute("data-columns")||2,spaceBetween:32}},pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-next",prevEl:".swiper-prev",disabledClass:"opacity-0",hiddenClass:"invisible"}}),this.swiper.on("slideChange",this.stopAllPlayers.bind(this))},initializeTabs:function(){this.el.addEventListener("tab:shown",this.stopAllPlayers.bind(this))},renderLoader:function(){var a=this.el.getAttribute("data-columns")||2;1>a&&(a=1),3<a&&(a=3);var b;switch(this.options.layout){case"tabs":b="<div class=\"p-3\"><div class=\"row row-flush\"><div class=\"md:col-8\"><div class=\"relative w-full ratio ratio-16-9\"><div class=\"skeleton absolute top-0 left-0 w-full h-full\"></div></div></div><div class=\"md:col\"><div class=\"absolute top-0 bottom-0 w-full h-full md:ml-3\"><div class=\"skeleton absolute top-0 left-0 h-full w-full\"></div></div></div></div></div>";break;case"carousel":var c="<li class=\"mb-6 md:col-"+12/a+"\"><div class=\"relative w-full ratio ratio-16-9\"><div class=\"skeleton absolute top-0 left-0 h-full w-full\"></div></div></li>";b="<ul class=\"list-unstyled row\">";for(var d=0;d<a;d++)b+=c;b+="</ul>";break;default:b=this.ids.map(function(){return"<li class=\"mb-6 md:col-"+12/a+"\"><div class=\"relative w-full ratio ratio-16-9\"><div class=\"skeleton absolute top-0 left-0 h-full w-full\"></div></div></li>"}).join(""),b="<ul class=\"list-unstyled row my-6\">"+b+"</ul>";}this.loader=document.createElement("div"),"carousel"===this.options.layout&&this.loader.classList.add("flex"),this.loader.innerHTML=b,this.el.parentNode.insertBefore(this.loader,this.el)},render:function(){var a=Util.getTemplateString(this.options.template),b=this.el.getAttribute("data-columns")||2;1>b&&(b=1),3<b&&(b=3);var c;if(!a)switch(this.options.layout){case"carousel":a="<% if (ids.length) { %><ul class=\"relative z-10 list-unstyled swiper-wrapper flex-no-wrap\"><% ids.forEach(function(id, index) { %><li class=\"swiper-slide\"><% if (playInline) { %><div class=\"relative w-full ratio ratio-16-9\"><div class=\"relative z-20\" id=\"<%= id %>\"></div><div class=\"absolute-center z-10 flex p-4 circle button button-primary\"><svg class=\" w-5 h-5 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z\"/></svg></div><% if (showDuration) { %><span class=\"absolute bottom-0 right-0 top-auto m-4 badge\" data-duration=\"<%= id %>\"></span><% } %></div><% } else { %><a class=\"relative block w-full ratio ratio-16-9\" data-url=\"<%= id %>\" data-fancybox href=\"#\"><div class=\"relative z-20\" id=\"<%= id %>\"></div><div class=\"absolute-center z-10 flex p-4 circle button button-primary\"><svg class=\" w-5 h-5 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z\"/></svg></div><% if (showDuration) { %><span class=\"absolute bottom-0 right-0 top-auto m-4 badge\" data-duration=\"<%= id %>\"></span><% } %></a><% } %><% if (showTitle) { %><h3 class=\"h4 my-4\" data-title=\"<%= id %>\"></h3><% } %></li><% }); %></ul><% } %><div class=\"absolute z-20 top-0 right-0 h-full flex align-items-center justify-content-center pointer-events-none<% if (showTitle) { %> -mt-6<% } %>\"><svg class=\"swiper-next w-6 h-9 p-2 mx-1 border-radius button button-primary fill-current cursor-pointer transition\" style=\"pointer-events: all;\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M32.792,94.602L32.792,94.602c-0.53,0-1.039-0.211-1.414-0.586l-8.2-8.201c-0.781-0.781-0.781-2.047,0-2.828l32.999-32.999  L23.178,16.989c-0.781-0.781-0.781-2.047,0-2.828l8.2-8.201c0.75-0.75,2.078-0.751,2.828,0l42.616,42.612  c0.487,0.487,0.671,1.163,0.55,1.792c-0.071,0.381-0.255,0.746-0.55,1.041L34.206,94.016C33.831,94.391,33.322,94.602,32.792,94.602  z\"/></svg></div><div class=\"absolute z-20 top-0 left-0 h-full flex align-items-center justify-content-center pointer-events-none<% if (showTitle) { %> -mt-6<% } %>\"><svg class=\"swiper-prev w-6 h-9 p-2 mx-1 border-radius button button-primary fill-current cursor-pointer transition\" style=\"pointer-events: all;\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M67.208,94.614c-0.53,0-1.039-0.21-1.414-0.586L23.178,51.416c-0.487-0.487-0.671-1.163-0.55-1.792  c0.071-0.381,0.255-0.746,0.55-1.041L65.794,5.972c0.375-0.375,0.884-0.586,1.414-0.586l0,0c0.53,0,1.039,0.211,1.414,0.586  l8.2,8.201c0.781,0.781,0.781,2.047,0,2.828L43.823,50l32.999,32.999c0.781,0.781,0.781,2.047,0,2.828l-8.2,8.201  C68.247,94.403,67.738,94.614,67.208,94.614z\"/></svg></div>";break;case"tabs":a="<% if (ids.length) { %><div class=\"bg-gray-100 p-3\"><div class=\"row row-flush\"><div class=\"md:col-8\"><ul class=\"tabs list-unstyled mb-0\"><% ids.forEach(function(id, index) { %><li class=\"tab content fade<% if (index === 0) { %> is-active is-shown<% } %>\" id=\"video-<%= id %>\" role=\"tab-panel\"><% if (playInline) { %><div class=\"relative w-full ratio ratio-16-9\"><div class=\"relative z-20\" id=\"<%= id %>\"></div><div class=\"absolute-center z-10 flex p-4 circle button button-primary\"><svg class=\" w-5 h-5 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 100 100\"><path d=\"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z\"/></svg></div></div><% } else { %><a class=\"relative block w-full ratio ratio-16-9\" data-url=\"<%= id %>\" data-fancybox href=\"#\"><div class=\"relative z-20\" id=\"<%= id %>\"></div><div class=\"absolute-center z-10 flex p-4 circle button button-primary\"><svg class=\" w-5 h-5 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 100 100\"><path d=\"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z\"/></svg></div></a><% } %></li><% }); %></ul></div><div class=\"md:col overflow-y-scroll\"><div class=\"relative md:ml-3\"><div class=\"md:absolute h-full w-full\"><nav class=\"nav flex-column mt-6 md:my-0\"><% ids.forEach(function(id, index) { %><a class=\"nav-link flex text-inherit border border-radius border-transparent transition<% if (index === 0) { %> text-primary border-primary bg-white is-active is-shown<% } %>\" data-active-class=\"text-primary border-primary bg-white\" href=\"#video-<%= id %>\" data-toggle=\"tab\" role=\"tab\" aria-expanded=\"<% if (index === 0) { %>true<% } else { %>false<% } %>\"><div class=\"relative align-self-center h-8 w-8 overflow-hidden <% if (!showTitle && !showDuration) { %>mx-auto<% } else { %>mr-3<% } %>\"><img class=\"absolute-center\" data-thumbnail=\"<%= id %>\" alt=\"Video thumbnail\"></div><% if (showTitle || showDuration) { %><div class=\"relative media-body\"><% if (showTitle) { %><h5 class=\"my-1 text-inherit\" data-title=\"<%= id %>\"></h5><% } %><% if (showDuration) { %><span class=\"badge\" data-duration=\"<%= id %>\"></span><% } %></div><% } %></a><% }); %></nav></div></div></div></div></div><% } %>";break;default:a="<% if (ids.length) { %><ul class=\"list-unstyled row\"><% ids.forEach(function(id, index) { %><li class=\"mb-6 md:col-"+12/b+"\"><div class=\"relative w-full ratio ratio-16-9\"><% if (playInline) { %><div class=\"relative w-full ratio ratio-16-9\"><div class=\"relative z-20\" id=\"<%= id %>\"></div><div class=\"absolute-center z-10 flex p-4 circle button button-primary\"><svg class=\" w-5 h-5 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 100 100\"><path d=\"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z\"/></svg></div></div><% } else { %><a class=\"relative block w-full ratio ratio-16-9\" data-url=\"<%= id %>\" data-fancybox href=\"#\"><div class=\"relative z-20\" id=\"<%= id %>\"></div><div class=\"absolute-center z-10 flex p-4 circle button button-primary\"><svg class=\" w-5 h-5 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 100 100\"><path d=\"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z\"/></svg></div></a><% } %><% if (showDuration) { %><span class=\"absolute bottom-0 right-0 top-auto m-4 badge\" data-duration=\"<%= id %>\"></span><% } %></div><% if (showTitle) { %><h3 class=\"h4 my-4\" data-title=\"<%= id %>\"></h3><% } %></li><% }); %></ul><% } %>";}var d=Util.template(a),e={ids:this.ids,columns:b,showTitle:this.options.showTitle,showDuration:this.options.showDuration,playInline:this.options.playInline};this.options.templateData&&(e=Util.extend(e,this.options.templateData)),c=d(e).replace(/(^\s+|\s+$)/g,""),c&&(this.el.innerHTML=c),Util.triggerEvent(this.el,g.RENDER,{relatedTarget:this.el})}}),window.addEventListener("load",function(){each("[data-element=\"video-library\"]",function(a){new VideoLibrary(a)})})})();